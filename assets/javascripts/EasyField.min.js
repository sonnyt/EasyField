/**
 * EasyField: Easy Form Element styling.
 * Author: Sonny T. <hi@sonnyt.com>, sonnyt.com
 */function EasyField(e){this.fields={button:[],textarea:[],select:[],input:[]};if(e&&typeof e!="object")throw"Container must be an Object element.";this.container=e||document.body;var t=["input","textarea","select","button"];for(var n=t.length;n--;){var r=this.container.getElementsByTagName(t[n]);for(var i=r.length;i--;){var s=Math.floor(Math.random()*1e9);r[i].setAttribute("data-id",s);r[i].style.display="none";var o=this.build(r[i]);this.fields[t[n]].push(new Array(r[i],o));r[i].parentNode.insertBefore(o,r[i])}}}EasyField.prototype.utils={removeClass:function(e,t){if(!e)throw"Atleast one elment must be provided.";var n=new RegExp("(\\s|^)"+t+"(\\s|$)");if(e.length)for(var r=0,i=e.length;r<i;r++)e[r].className&&(e[r].className=e[r].className.replace(n,""));else e.className=e.className.replace(n,"")},hasClass:function(e,t){return e.className&&(new RegExp("(^|\\s)"+t+"(\\s|$)")).test(e.className)}};EasyField.prototype.refresh=function(){};EasyField.prototype.build=function(e){if(e&&typeof e!="object")throw"Input must be an Object element.";var t=document.createElement("div");t.className="easy-field "+e.type;t.setAttribute("data-id",e.dataset.id);t.setAttribute("data-name",e.name);if(e.type==="textarea"||e.type==="text"||e.type==="password"){t.contentEditable=!0;t.innerHTML=e.value||'<span class="placeholder">'+e.placeholder+"</span>"}if(e.type==="password"){t.style.webkitTextSecurity="disc";t.style.mozTextSecurity="disc";t.style.OTextSecurity="disc";t.style.msTextSecurity="disc"}if(e.type==="select-one"){var n=document.createElement("ul"),r=null;for(var i=0,s=e.options.length;i<s;i++){var o=e.options[i],u=document.createElement("li");u.innerHTML=o.innerHTML;u.setAttribute("data-value",o.value);if(o.selected){r=document.createElement("span");r.innerHTML=o.innerHTML;u.className="selected"}n.appendChild(u)}t.appendChild(r);t.appendChild(n)}e.checked&&(t.className+=" selected");t=this.addEvent(e,t);return t};EasyField.prototype.addEvent=function(e,t){var n=this;if(e.type==="textarea"||e.type==="text"){t.onkeyup=function(){e.value=this.innerText;this.value=this.innerText};t.onfocus=function(){for(var e=0,t=this.children.length;e<t;e++)this.children[e].className==="placeholder"&&this.removeChild(this.children[e])};t.onblur=function(){if(!this.innerText||this.innerHTML==="<br>")this.innerHTML='<span class="placeholder">'+e.placeholder+"</span>"}}e.type==="password"&&(t.onkeyup=function(){e.value=this.innerText});e.type==="select-one"&&(t.onclick=function(t){if(t.target.tagName.toLowerCase()==="li"){var r=this.getElementsByTagName("li");n.utils.removeClass(r,"selected");if(n.utils.hasClass(r,"selected"))return;t.target.className="selected";this.getElementsByTagName("span")[0].innerHTML=t.target.innerHTML;for(var i=0,s=e.options.length;i<s;i++)if(e.options[i].value===t.target.dataset.value){e.selectedIndex=i;break}}});e.type==="radio"&&(t.onclick=function(){if(e.checked)return;var r=n.fields.input.filter(function(n){return n[0].type==="radio"&&n[1].dataset.name===t.dataset.name&&n[0].form===e.form});for(var i=0,s=r.length;i<s;i++)n.utils.removeClass(r[i][1],"selected");this.className+=" selected";e.checked=!0});e.type==="checkbox"&&(t.onclick=function(){if(e.checked){n.utils.removeClass(t,"selected");e.checked=!1}else{t.className+=" selected";e.checked=!0}});return t};